{"ast":null,"code":"import axios from 'axios';\nexport default class CustomersService {\n  //   async getUsers() {\n  //     const response = await axios.get('https://jsonplaceholder.typicode.com/users/')\n  //     .catch((error) => console.log(error))\n  //     return response\n  //   }\n  async getUsers() {\n    let nextPage = true;\n    let url = 'https://swapi.co/api/people';\n    let customers = [];\n\n    while (nextPage) {\n      const response = await axios.get(url).catch(error => console.log(error));\n      const recordsOnPage = response.data.results.map(element => {\n        return element.name;\n      });\n      customers = [...customers, ...recordsOnPage];\n\n      if (response.data.next) {\n        url = response.data.next;\n      } else {\n        nextPage = false;\n      }\n    }\n\n    console.log(customers);\n    return customers;\n  }\n\n}","map":{"version":3,"sources":["/home/pacheco/Apps/react-apps/debts-manager/src/services/customers.service.js"],"names":["axios","CustomersService","getUsers","nextPage","url","customers","response","get","catch","error","console","log","recordsOnPage","data","results","map","element","name","next"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,gBAAN,CAAuB;AAEnC;AACA;AACA;AACA;AACA;AAEA,QAAMC,QAAN,GAAiB;AAEd,QAAIC,QAAQ,GAAG,IAAf;AACA,QAAIC,GAAG,GAAG,6BAAV;AACA,QAAIC,SAAS,GAAG,EAAhB;;AAEA,WAAOF,QAAP,EAAiB;AAEd,YAAMG,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAUH,GAAV,EACnBI,KADmB,CACZC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CADE,CAAvB;AAGA,YAAMG,aAAa,GAAGN,QAAQ,CAACO,IAAT,CAAcC,OAAd,CAAsBC,GAAtB,CAA2BC,OAAD,IAAa;AAC1D,eAAOA,OAAO,CAACC,IAAf;AACF,OAFqB,CAAtB;AAGAZ,MAAAA,SAAS,GAAG,CAAC,GAAGA,SAAJ,EAAe,GAAGO,aAAlB,CAAZ;;AAEA,UAAIN,QAAQ,CAACO,IAAT,CAAcK,IAAlB,EAAwB;AACrBd,QAAAA,GAAG,GAAGE,QAAQ,CAACO,IAAT,CAAcK,IAApB;AACF,OAFD,MAEO;AACJf,QAAAA,QAAQ,GAAG,KAAX;AACF;AACH;;AACDO,IAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AACA,WAAOA,SAAP;AACF;;AAhCkC","sourcesContent":["import axios from 'axios'\n\nexport default class CustomersService {\n\n   //   async getUsers() {\n   //     const response = await axios.get('https://jsonplaceholder.typicode.com/users/')\n   //     .catch((error) => console.log(error))\n   //     return response\n   //   }\n\n   async getUsers() {\n\n      let nextPage = true;\n      let url = 'https://swapi.co/api/people'\n      let customers = []\n\n      while (nextPage) {\n\n         const response = await axios.get(url)\n            .catch((error) => console.log(error))\n\n         const recordsOnPage = response.data.results.map((element) => {\n            return element.name\n         })\n         customers = [...customers, ...recordsOnPage]\n\n         if (response.data.next) {\n            url = response.data.next\n         } else {\n            nextPage = false\n         }\n      }\n      console.log(customers)\n      return customers\n   }\n}\n"]},"metadata":{},"sourceType":"module"}